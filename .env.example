# Claude Code UI Environment Configuration
# Only includes variables that are actually used in the code
#
# TIP: Run 'cloudcli status' to see where this file should be located
#      and to view your current configuration.
#
# Available CLI commands:
#   claude-code-ui    - Start the server (default)
#   cloudcli start    - Start the server
#   cloudcli status   - Show configuration and data locations
#   cloudcli help     - Show help information
#   cloudcli version  - Show version information

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Backend server port (Express API + WebSocket server)
#API server
PORT=3001
#Frontend port
VITE_PORT=5173

# Uncomment the following line if you have a custom claude cli path other than the default "claude"
# CLAUDE_CLI_PATH=claude

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Path to the authentication database file
# This is where user credentials, API keys, and tokens are stored.
#
# To use a custom location:
# DATABASE_PATH=/path/to/your/custom/auth.db
#
# Claude Code context window size (maximum tokens per session)
VITE_CONTEXT_WINDOW=160000
CONTEXT_WINDOW=160000

# VITE_IS_PLATFORM=false

# =============================================================================
# VERSION CHECK CONFIGURATION
# =============================================================================

# Override the npm package name used for version update checks
# Default: @epiphytic/claudecodeui
# VITE_NPM_PACKAGE=@epiphytic/claudecodeui

# =============================================================================
# ORCHESTRATOR CONFIGURATION
# =============================================================================

# Orchestrator mode determines how this instance operates:
#   standalone - Runs independently (default)
#   client     - Connects to a central orchestrator server
ORCHESTRATOR_MODE=standalone

# Orchestrator WebSocket URL (required when ORCHESTRATOR_MODE=client)
# This is the base URL of the orchestrator server - the token is automatically appended
# ORCHESTRATOR_URL=wss://orchestrator.example.com/ws/connect

# Orchestrator authentication token (optional when ORCHESTRATOR_MODE=client)
# If set, uses authenticated mode with this token
# If not set, uses pending mode (requires claim patterns below)
# The token is automatically appended to the URL as a query parameter
# ORCHESTRATOR_TOKEN=

# Optional: Custom client ID for this instance
# If not set, defaults to hostname-pid
# ORCHESTRATOR_CLIENT_ID=

# Optional: Reconnection interval in milliseconds (default: 5000)
# ORCHESTRATOR_RECONNECT_INTERVAL=5000

# Optional: Heartbeat interval in milliseconds (default: 30000)
# ORCHESTRATOR_HEARTBEAT_INTERVAL=30000

# =============================================================================
# ORCHESTRATOR PENDING MODE (Auto-Registration)
# =============================================================================
# When no ORCHESTRATOR_TOKEN is set, the client will connect in "pending mode"
# and wait for authorization from an admin on the orchestrator dashboard.
#
# At least one claim pattern is required for pending mode. These determine
# which admin users can authorize this client.
#
# NOTE: If ORCHESTRATOR_CLAIM_* variables are not set, the system will
# automatically fall back to using ORCHESTRATOR_GITHUB_* variables (below).

# GitHub username claim - only this user can authorize
# ORCHESTRATOR_CLAIM_USER=your-github-username

# GitHub organization claim - any org admin can authorize
# ORCHESTRATOR_CLAIM_ORG=your-org-name

# GitHub team claim - any team member can authorize (format: org/team-slug)
# ORCHESTRATOR_CLAIM_TEAM=your-org/your-team

# Token Precedence:
# 1. ORCHESTRATOR_TOKEN (if set) - always used
# 2. Database token (if previously authorized) - auto-stored after pending approval
# 3. Pending mode (if claim patterns set) - waits for authorization

# =============================================================================
# ORCHESTRATOR PASS-THROUGH AUTHENTICATION
# =============================================================================
# When in client mode, you can configure which GitHub users are allowed to
# access this instance via the orchestrator. The orchestrator passes the user's
# GitHub OAuth token, and claudecodeui validates it against these rules.
#
# Set ONE OR MORE of the following to enable pass-through auth:

# Allow users from a specific GitHub organization
# ORCHESTRATOR_GITHUB_ORG=your-org-name

# Allow users from a specific GitHub team (format: org/team-slug)
# ORCHESTRATOR_GITHUB_TEAM=your-org/your-team

# Allow specific GitHub usernames (comma-separated for multiple users)
# ORCHESTRATOR_GITHUB_USERS=username1,username2,username3

# Authentication priority (if multiple are set):
# 1. Specific users (ORCHESTRATOR_GITHUB_USERS) - checked first
# 2. Team membership (ORCHESTRATOR_GITHUB_TEAM) - checked second
# 3. Org membership (ORCHESTRATOR_GITHUB_ORG) - checked last
#
# If NONE of these are set, pass-through auth is disabled and requests
# from the orchestrator will be processed without user validation.
